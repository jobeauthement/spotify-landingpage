(this["webpackJsonpwww-marketing"]=this["webpackJsonpwww-marketing"]||[]).push([[1,2],{148:function(e,t,a){"use strict";a.r(t);a(193);var n=a(0),o=a.n(n),r=a(72),i=a.n(r),c=a(71),s=a(710),d=a(713),m=a(712),l=a(714),p=a(715),g=a(9),u=a(50),v=a(64),w=a(117),f=a.n(w),h=a(49),T=a(6);const{sendMetric:b}=Object(g.createSemanticMetrics)({key:"www-marketing",reporter:Object(g.createUniversalReporter)(),dev:!1});a(220),a(221);(e=>{const{environment:t,release:a,useErrorReporting:n,useInstrumentation:r,...w}=e;let O;s.a({dsn:"https://09d927c146bb46728e7b701c2122e066@o22381.ingest.sentry.io/6303532",sampleRate:.2,environment:t,release:a,beforeSend:e=>n?e:null,ignoreErrors:[/((Time to paint|navigationTiming) api is not supported)|(twttr)|(fbq)|(IntersectionObserver)|(Deprecation messages are stored in the devtools-frontend)/gim],integrations:[new m.a,new l.a,new p.a({types:["crash","deprecation","intervention"]})],initialScope:{user:{id:(()=>{var e;const t="; ".concat(document.cookie).split("; sp_t=");return 2===t.length?null===(e=t.pop())||void 0===e?void 0:e.split(";").shift():""})()}},allowUrls:[/(spotify\.(com|net))|(scdn\.co)|(spotifycdn\.com)/gim]}),r&&(O=function(){var e;const t=Object(h.d)({dev:!1,component_name:"www-marketing"}),a=t.startSpan("client-bridge");a.setTag(T.Tags.SPAN_KIND,"client"),(null===(e=window.SPOTI_DATA)||void 0===e?void 0:e.traceContext)&&t.inject(a,T.FORMAT_HTTP_HEADERS,window.SPOTI_DATA.traceContext);const n=Object(h.c)({fetch:window.fetch},{tracer:t,shouldTrace:e=>["spotify.com"].some(t=>{var a;return null===(a=h.a.extractHostname(e))||void 0===a?void 0:a.endsWith(t)})});window.fetch=(e,t)=>{var o;return n(e,{...t,parentSpan:null!==(o=null===t||void 0===t?void 0:t.parentSpan)&&void 0!==o?o:a})},a.finish();const o=window.location.pathname.match(/^\/[a-z]{2}(-[a-z]{2})?\//i),r={origin:window.location.origin,path:window.location.pathname.replace(/^\/[a-z]{2}(-[a-z]{2})?\//i,"/{spotifyMarket}/"),market:o&&"string"===typeof o[0]?o[0].replace(/\//g,""):"",marketPath:window.location.pathname,device:"onorientationchange"in window?"mobile":"desktop"};function i(e){b(u.a.getWebVitalsMetric(e,r))}return b({metric_type:g.MetricTypes.COUNTER,what:"page-load",value:1,tags:r}),b({metric_type:g.MetricTypes.COUNTER,what:"connection",value:1,tags:Object.assign({},r,{effective_type:window.navigator.connection?window.navigator.connection.effectiveType:"unknown"})}),u.a.getPageLoadTime().then(e=>{b({metric_type:g.MetricTypes.TIMER,what:"time-to-page-load-nanoseconds",value:g.Time.fromMillis(e).asNanos(),tags:r})}),u.a.getTimeToFirstPaint().then(e=>{b({metric_type:g.MetricTypes.TIMER,what:"time-to-first-paint-nanoseconds",value:g.Time.fromMillis(e).asNanos(),tags:r})}),u.a.getTimeToFirstContentfulPaint().then(e=>{b({metric_type:g.MetricTypes.TIMER,what:"time-to-first-contentful-paint-nanoseconds",value:g.Time.fromMillis(e).asNanos(),tags:r})}),f.a.getFirstConsistentlyInteractive().then(e=>{e&&b({metric_type:g.MetricTypes.TIMER,what:"time-to-interactive-nanoseconds",value:g.Time.fromMillis(e).asNanos(),tags:r})}),Object(v.a)(i),Object(v.b)(i),Object(v.c)(i),a}());const y=Object(T.globalTracer)(),k=y.startSpan("hydration",{childOf:O});k.setTag(T.Tags.SPAN_KIND,"client");const E=document.getElementById("spoti-root"),M=o.a.createElement(d.a,{onError:(e,t,a)=>{const n=y.startSpan("app-render-error",{childOf:k});n.addTags({[T.Tags.SPAN_KIND]:"client",[T.Tags.ERROR]:!0}),n.log({event:"error","error.object":e,"error.kind":e.name,message:e.message,stack:e.stack,"component.stack":t,eventId:a}),n.finish()}},o.a.createElement(c.a,Object.assign({baseElement:E,parentSpan:k},w)));i.a.hydrate(M,E),k.finish()})(window.SPOTI_DATA)},192:function(e,t,a){e.exports=a(148)},71:function(e,t,a){"use strict";var n=a(0),o=a.n(n),r=a(120);var i=a(63),c=(a(89),a(81)),s=a(179),d=a(6);const m=Object.entries(c).map(([e,t])=>[e.toLowerCase(),t]),l=new Map([...m,["debug",({text:e})=>o.a.createElement("blockquote",null,e)],["componentgroup","div"]]);function p(e,t,a,n){const r=Object(d.globalTracer)().startSpan("create-".concat(e),{childOf:n}),i=e.toLowerCase();const c=l.get(i);if(!c)throw r.addTags({[d.Tags.ERROR]:!0}),r.log({event:"error","error.kind":"ComponentNotFoundError"}),new Error('Component "'.concat(i,'" not found.'));return"componentgroup"===i?(r.finish(),o.a.createElement(c,{...t,components:void 0},(t.components||[]).map((e,t)=>p(e.name,{key:t,...e.attributes},e.eventParams)))):(r.finish(),o.a.createElement(c,{...t,eventParams:a}))}var g=({market:e,direction:t,user:a,pageData:n,parentSpan:r,device:c})=>{const m=Object(d.globalTracer)().startSpan("page",{childOf:r}),l=s.a,{themeName:g}=n,{header:u,footer:v,components:w}=(e=>{const t={header:void 0,footer:void 0,components:[]};return t.components=e.filter((e,a,n)=>"pageheader"===e.name?(t.header=n[a],!1):"pagefooter"!==e.name||(t.footer=n[a],!1)),t})(n.components),f=Object(i.b)(n.eventParams),h=o.a.createElement(l,{market:e,direction:t,user:a,themeName:g,device:c},u&&p(u.name,{...u.attributes},u.eventParams,m),o.a.createElement("main",f,w.map(({name:e,attributes:t,eventParams:a},n)=>p(e,{key:n,...t},a,m))),v&&p(v.name,{...v.attributes},v.eventParams,m));return m.finish(),h},u=a(40),v=a(119),w=a(115),f=a(116);var h=a(122),T=a(123),b=a(124),O=a(125),y=a(121);const k=Object(u.e)(T.a).addMiddleware(h.a).addMiddleware(O.a).addMiddleware(b.a).addMiddleware(y.a),E=async e=>{var t;const a=null!==(t=e.transport)&&void 0!==t?t:await(async()=>{const e=Object(v.a)({providers:{endpoints:()=>Promise.resolve({webgate:"/api/",webapi:"https://api.spotify.com"}),token:Object(f.a)()},requestMode:"fetch"});return e.addPlugin(w.a,{optionsOverrides:{authorize:!1}}),e.isConnected()||await e.connect(),await e.authenticate(),e})();return new k({...e,clientId:"www-marketing",transport:a})};var M=a(32),j=a(53);t.a=Object(n.memo)(e=>{const{baseElement:t,parentSpan:a,user:c,language:s,pageName:m,resourceName:l,market:p,country:u,forceOneTrust:v,pageData:w,direction:f,remoteConfiguration:h,device:T}=e,b=Object(d.globalTracer)().startSpan("app",{childOf:a}),O={market:p,direction:f,user:c,pageData:w,language:s,parentSpan:b,device:T};return Object(n.useEffect)(()=>{s&&function({forceOneTrust:e,market:t,language:a,loggedIn:n}){Object(r.a)({dataLayerPushInitial:!0,googleTagManagerId:"GTM-7BJJ",market:t,language:a,loggedIn:n,oneTrust:e})}({forceOneTrust:v,market:p,language:s,loggedIn:c.authenticated})},[v,p,s,c.authenticated]),Object(n.useEffect)(()=>{var e,a;t&&Object(i.a)({analyticsRoot:t,isAuthenticated:null!==(e=c.authenticated)&&void 0!==e&&e,pageName:m,resourceName:l,language:s,countryCode:null!==u&&void 0!==u?u:"",eventParams:null!==(a=w.eventParams)&&void 0!==a?a:{}})},[t,c.authenticated,m,l,s,u,w.eventParams]),Object(n.useEffect)(()=>{!async function(){if(h)try{const e=M.a.fromJSON(h),t=await E({initialConfiguration:e,timeout:1e3});await t.resolve({username:null})}catch(e){j.a(e)}}()},[h]),b.finish(),o.a.createElement(g,O)})}},[[192,4,0]]]);
//# sourceMappingURL=index.ebc877de.2e095431.chunk.js.map